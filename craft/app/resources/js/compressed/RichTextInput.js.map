{"version":3,"sources":["../RichTextInput.js"],"names":["$","Craft","RichTextInput","Garnish","Base","extend","id","linkOptions","assetSources","elementLocale","redactorConfig","$textarea","redactor","linkOptionModals","init","settings","this","transforms","lang","redactorLang","direction","orientation","imageUpload","fileUpload","dragImageUpload","dragFileUpload","plugins","buttons","index","inArray","splice","unshift","lowestListButtonIndex","oldListButtons","i","length","callbacks","handleRedactorInit","initRedactor","livePreview","on","proxy","core","destroy","mergeCallbacks","callback1","callback2","apply","arguments","currentInstance","onInitRedactor","opts","toolbar","customizeToolbar","leaveFullscreetOnSaveShortcut","editor","toolbarFixed","scrollPageOnReady","$doc","ready","trigger","$imageBtn","replaceRedactorButton","get","$fileBtn","button","addCallback","remove","$linkBtn","dropdownOptions","title","optionTitle","func","link","observe","element","in","out","unlink","attr","class","aria-disabled","addDropdown","onImageButtonClick","selection","save","assetSelectionModal","createElementSelectorModal","storageKey","multiSelect","sources","criteria","locale","kind","onSelect","assets","transform","restore","asset","url","insert","node","code","sync","images","closeOtherModals","show","onFileButtonClick","assetLinkSelectionModal","text","label","onLinkOptionClick","key","elementType","elements","elementTypeHandle","replace","match","toLowerCase","onEditorFocus","box","addClass","onEditorBlur","removeClass","fullscreen","disable","cp","isOpen","$placeholder","addAfter","$btn","build","icon","parent","after","append","jQuery"],"mappings":"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","file":"RichTextInput.js"}